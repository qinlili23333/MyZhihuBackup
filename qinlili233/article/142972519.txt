裂色的奇迹性能优化指南
<p data-pid="ar8hrHtN">虽然只是一个小型RPG游戏,但是我还是对它吃满了核显感到非常不满</p><p data-pid="3kbjznGe">官方看样子好久没更新已经放弃更新了,那就自己来动手吧</p><p><br></p><p data-pid="ItBqicT4">打开游戏目录,一看这package.json我就知道又是nwjs,这就好办了</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-e9d8d52d78d64eaaafa27890d458cc23_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="416" data-rawheight="581" class="content_image" width="416"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='416'%20height='581'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="416" data-rawheight="581" class="content_image lazy" width="416" data-actualsrc="https://pic2.zhimg.com/v2-e9d8d52d78d64eaaafa27890d458cc23_720w.jpg?source=3af55fa1"></figure><p data-pid="fZPYFUeE">nwjs本身还在不断更新,而且游戏自带是32位,完全可以换成64位</p><p data-pid="L4V-SAHp">打开<a href="http://link.zhihu.com/?target=https%3A//nwjs.io/" class=" wrap external" target="_blank" rel="nofollow noreferrer">nwjs官网</a>下载最新64位版本</p><p data-pid="X3E13bUj">把游戏目录删成下图</p><figure data-size="normal"><noscript><img src="https://pica.zhimg.com/v2-1971fcf9bf955af3e6376a6bab1f93d7_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="248" data-rawheight="198" class="content_image" width="248"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='248'%20height='198'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="248" data-rawheight="198" class="content_image lazy" width="248" data-actualsrc="https://pica.zhimg.com/v2-1971fcf9bf955af3e6376a6bab1f93d7_720w.jpg?source=3af55fa1"></figure><p data-pid="8N0X7ilL">把nwjs完整解压过来</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-5051b44e7f9bf61abeea9b6fdb76e70c_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="477" data-rawheight="918" class="origin_image zh-lightbox-thumb" width="477" data-original="https://pic2.zhimg.com/v2-5051b44e7f9bf61abeea9b6fdb76e70c_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='477'%20height='918'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="477" data-rawheight="918" class="origin_image zh-lightbox-thumb lazy" width="477" data-original="https://pic2.zhimg.com/v2-5051b44e7f9bf61abeea9b6fdb76e70c_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-5051b44e7f9bf61abeea9b6fdb76e70c_720w.jpg?source=3af55fa1"></figure><p data-pid="_E_LWkt9">修改nw.exe为Game.exe后运行,游戏还能正常启动,且cpu占用大幅下降,但是查看任务管理器发现进程变多了</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-c2ca230fe184391a4d0dcb7dc94a1eb0_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="2978" data-rawheight="240" class="origin_image zh-lightbox-thumb" width="2978" data-original="https://pic2.zhimg.com/v2-c2ca230fe184391a4d0dcb7dc94a1eb0_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='2978'%20height='240'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="2978" data-rawheight="240" class="origin_image zh-lightbox-thumb lazy" width="2978" data-original="https://pic2.zhimg.com/v2-c2ca230fe184391a4d0dcb7dc94a1eb0_r.jpg?source=3af55fa1" data-actualsrc="https://pic2.zhimg.com/v2-c2ca230fe184391a4d0dcb7dc94a1eb0_720w.jpg?source=3af55fa1"></figure><p data-pid="gNBOmvWG">这是新版nwjs默认启用的特性,但是我们不需要,所以在steam启动参数里添加--<i>disable</i>-crash-<i>handler</i>=<i>true</i></p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-7bcc4477d76cbc41c78a83afd05936bc_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="746" data-rawheight="354" class="origin_image zh-lightbox-thumb" width="746" data-original="https://pic3.zhimg.com/v2-7bcc4477d76cbc41c78a83afd05936bc_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='746'%20height='354'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="746" data-rawheight="354" class="origin_image zh-lightbox-thumb lazy" width="746" data-original="https://pic3.zhimg.com/v2-7bcc4477d76cbc41c78a83afd05936bc_r.jpg?source=3af55fa1" data-actualsrc="https://pic2.zhimg.com/v2-7bcc4477d76cbc41c78a83afd05936bc_720w.jpg?source=3af55fa1"></figure><p data-pid="uVpbLwB0">另外,为了强制使用本地图形API而不是EGL,我们还可以添加一句--use-gl=desktop</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-de7b71d95e47f09f6efda01aa1b02988_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="746" data-rawheight="354" class="origin_image zh-lightbox-thumb" width="746" data-original="https://pic1.zhimg.com/v2-de7b71d95e47f09f6efda01aa1b02988_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='746'%20height='354'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="746" data-rawheight="354" class="origin_image zh-lightbox-thumb lazy" width="746" data-original="https://pic1.zhimg.com/v2-de7b71d95e47f09f6efda01aa1b02988_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-de7b71d95e47f09f6efda01aa1b02988_720w.jpg?source=3af55fa1"></figure><p data-pid="DWyR1QVx">经过这样的简单优化,在核显上终于不会掉帧了,由于cpu使用也下降了,续航也变好了</p><p data-pid="AVWT5iEv">等cef84的发布,还能切换到vulkan渲染,到时候再更新文章讲讲开启vulkan吧</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-5453e221bde9f4c5e9a9690b6020af06_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1946" data-rawheight="1150" class="origin_image zh-lightbox-thumb" width="1946" data-original="https://pic1.zhimg.com/v2-5453e221bde9f4c5e9a9690b6020af06_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1946'%20height='1150'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1946" data-rawheight="1150" class="origin_image zh-lightbox-thumb lazy" width="1946" data-original="https://pic1.zhimg.com/v2-5453e221bde9f4c5e9a9690b6020af06_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-5453e221bde9f4c5e9a9690b6020af06_720w.jpg?source=3af55fa1"></figure><p></p>