降低Super Hexagon的渲染延迟
<p data-pid="dhj5sv0b">Super Hexagon原版的渲染延迟在关闭垂直同步的情况下有些高，在开启NV自带低延迟模式后有明显的不连贯情况。</p><p data-pid="9CvkIoUe">分析目录发现有glut32.dll，目测是没有开启glut的游戏模式，由于游戏没有开源，逆向调试较为复杂，但是glut是开源的，所以我决定魔改一个默认开启游戏模式的glut</p><p data-pid="81uh7q1Y">现在还在维护的glut叫freeglut，官网为<a href="http://link.zhihu.com/?target=http%3A//freeglut.sourceforge.net/" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">freeglut.sourceforge.net</span><span class="invisible">/</span><span class="ellipsis"></span></a></p><p data-pid="Uo3A_icd">下载源码到本地解压，用VS2019打开文件夹，稍等片刻CMake会自动初始化项目</p><figure data-size="normal"><noscript><img src="https://pica.zhimg.com/v2-410e081471c816338bc3b79269c497ab_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="3677" data-rawheight="2160" class="origin_image zh-lightbox-thumb" width="3677" data-original="https://pic2.zhimg.com/v2-410e081471c816338bc3b79269c497ab_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='3677'%20height='2160'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="3677" data-rawheight="2160" class="origin_image zh-lightbox-thumb lazy" width="3677" data-original="https://pic2.zhimg.com/v2-410e081471c816338bc3b79269c497ab_r.jpg?source=3af55fa1" data-actualsrc="https://pica.zhimg.com/v2-410e081471c816338bc3b79269c497ab_720w.jpg?source=3af55fa1"></figure><p data-pid="p7kQMeoA">由于Super Hexagon是一个32位游戏，我们需要把目标平台改成x86。并且为了性能，选择MinSizeRel</p><figure data-size="normal"><noscript><img src="https://pica.zhimg.com/v2-ec64d4f5e0812583c55680dbe0571e6a_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1887" data-rawheight="1278" class="origin_image zh-lightbox-thumb" width="1887" data-original="https://pic1.zhimg.com/v2-ec64d4f5e0812583c55680dbe0571e6a_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1887'%20height='1278'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1887" data-rawheight="1278" class="origin_image zh-lightbox-thumb lazy" width="1887" data-original="https://pic1.zhimg.com/v2-ec64d4f5e0812583c55680dbe0571e6a_r.jpg?source=3af55fa1" data-actualsrc="https://pica.zhimg.com/v2-ec64d4f5e0812583c55680dbe0571e6a_720w.jpg?source=3af55fa1"></figure><p data-pid="7j_6wyjZ">因为只需要dll，所以可以去掉一些构建选项</p><figure data-size="normal"><noscript><img src="https://pica.zhimg.com/v2-3bf41ce6cf51305b00b64763464209bf_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="2070" data-rawheight="463" class="origin_image zh-lightbox-thumb" width="2070" data-original="https://pic1.zhimg.com/v2-3bf41ce6cf51305b00b64763464209bf_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='2070'%20height='463'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="2070" data-rawheight="463" class="origin_image zh-lightbox-thumb lazy" width="2070" data-original="https://pic1.zhimg.com/v2-3bf41ce6cf51305b00b64763464209bf_r.jpg?source=3af55fa1" data-actualsrc="https://pica.zhimg.com/v2-3bf41ce6cf51305b00b64763464209bf_720w.jpg?source=3af55fa1"></figure><p data-pid="F4Y8DZNE">单击右侧区域</p><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-0a4948643bb946b8a968aaaa833c5185_720w.jpg?source=3af55fa1" data-caption="" data-size="small" data-rawwidth="678" data-rawheight="1037" class="origin_image zh-lightbox-thumb" width="678" data-original="https://pic1.zhimg.com/v2-0a4948643bb946b8a968aaaa833c5185_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='678'%20height='1037'&gt;&lt;/svg&gt;" data-caption="" data-size="small" data-rawwidth="678" data-rawheight="1037" class="origin_image zh-lightbox-thumb lazy" width="678" data-original="https://pic1.zhimg.com/v2-0a4948643bb946b8a968aaaa833c5185_r.jpg?source=3af55fa1" data-actualsrc="https://pic2.zhimg.com/v2-0a4948643bb946b8a968aaaa833c5185_720w.jpg?source=3af55fa1"></figure><p data-pid="QiH4Alpq">切换成英文输入法！！！(很重要！！！因为中文输入法有快捷键冲突）然后使用ctrl+shift+f全局查找glutCreateWindow，找到fg_window.c打开</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-a0f6ab342164bd1831794fd005e60e54_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="2968" data-rawheight="1944" class="origin_image zh-lightbox-thumb" width="2968" data-original="https://pica.zhimg.com/v2-a0f6ab342164bd1831794fd005e60e54_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='2968'%20height='1944'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="2968" data-rawheight="1944" class="origin_image zh-lightbox-thumb lazy" width="2968" data-original="https://pica.zhimg.com/v2-a0f6ab342164bd1831794fd005e60e54_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-a0f6ab342164bd1831794fd005e60e54_720w.jpg?source=3af55fa1"></figure><p data-pid="xyGltiVO">阅读方法提示，得知倒数第二个参数就是游戏模式</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-df8cace5dcbecf145007ed593207fa91_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1953" data-rawheight="324" class="origin_image zh-lightbox-thumb" width="1953" data-original="https://pic1.zhimg.com/v2-df8cace5dcbecf145007ed593207fa91_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1953'%20height='324'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1953" data-rawheight="324" class="origin_image zh-lightbox-thumb lazy" width="1953" data-original="https://pic1.zhimg.com/v2-df8cace5dcbecf145007ed593207fa91_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-df8cace5dcbecf145007ed593207fa91_720w.jpg?source=3af55fa1"></figure><p data-pid="-r_TRy8s">手动改成true并编译</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-36b3af113ee073001d426e5267ead253_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1646" data-rawheight="204" class="origin_image zh-lightbox-thumb" width="1646" data-original="https://pic1.zhimg.com/v2-36b3af113ee073001d426e5267ead253_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1646'%20height='204'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1646" data-rawheight="204" class="origin_image zh-lightbox-thumb lazy" width="1646" data-original="https://pic1.zhimg.com/v2-36b3af113ee073001d426e5267ead253_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-36b3af113ee073001d426e5267ead253_720w.jpg?source=3af55fa1"></figure><p data-pid="cx7gUMb5">得到freeglut.dll</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-24cf56ce1704a6b1ad9d6c3e757fed25_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1374" data-rawheight="243" class="origin_image zh-lightbox-thumb" width="1374" data-original="https://pic2.zhimg.com/v2-24cf56ce1704a6b1ad9d6c3e757fed25_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1374'%20height='243'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1374" data-rawheight="243" class="origin_image zh-lightbox-thumb lazy" width="1374" data-original="https://pic2.zhimg.com/v2-24cf56ce1704a6b1ad9d6c3e757fed25_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-24cf56ce1704a6b1ad9d6c3e757fed25_720w.jpg?source=3af55fa1"></figure><p data-pid="1ngvC9CR">改名glut32.dll放到游戏目录下并启动游戏，如果窗口模式下窗口边框消失就对了</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-0c58c8662213e0c80163d0ea20b8b014_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="787" data-rawheight="487" class="origin_image zh-lightbox-thumb" width="787" data-original="https://pic2.zhimg.com/v2-0c58c8662213e0c80163d0ea20b8b014_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='787'%20height='487'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="787" data-rawheight="487" class="origin_image zh-lightbox-thumb lazy" width="787" data-original="https://pic2.zhimg.com/v2-0c58c8662213e0c80163d0ea20b8b014_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-0c58c8662213e0c80163d0ea20b8b014_720w.jpg?source=3af55fa1"></figure><p data-pid="NzuQxI66">稍微试玩几把，就会感受到渲染延迟下降了</p>