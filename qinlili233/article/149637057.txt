替换Unity可执行文件为64位,改善游戏性能
<p data-pid="Db7H6naF">虽然Unity同时支持多种架构,但是总有些程序员选择只打包32位版本,既然我们没有办法手动给程序员的脑子抽水,那就自己动手替换一个64位版本吧</p><p data-pid="ELtusTWM">以下面这个游戏为例</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-625b3dcfcf920837412c20aa30d31c2c_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1077" data-rawheight="142" class="origin_image zh-lightbox-thumb" width="1077" data-original="https://pic1.zhimg.com/v2-625b3dcfcf920837412c20aa30d31c2c_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1077'%20height='142'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1077" data-rawheight="142" class="origin_image zh-lightbox-thumb lazy" width="1077" data-original="https://pic1.zhimg.com/v2-625b3dcfcf920837412c20aa30d31c2c_r.jpg?source=3af55fa1" data-actualsrc="https://pic2.zhimg.com/v2-625b3dcfcf920837412c20aa30d31c2c_720w.jpg?source=3af55fa1"></figure><p data-pid="vPDwIVu4">右键目录内最大的可执行文件或dll,属性,查看版本</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-6192ce3341e432cbf30d2624af1edc7e_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="559" data-rawheight="807" class="origin_image zh-lightbox-thumb" width="559" data-original="https://pic3.zhimg.com/v2-6192ce3341e432cbf30d2624af1edc7e_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='559'%20height='807'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="559" data-rawheight="807" class="origin_image zh-lightbox-thumb lazy" width="559" data-original="https://pic3.zhimg.com/v2-6192ce3341e432cbf30d2624af1edc7e_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-6192ce3341e432cbf30d2624af1edc7e_720w.jpg?source=3af55fa1"></figure><p data-pid="1s7mXnmH">显然这个游戏使用的是5.6.6版本的Unity</p><p data-pid="W4YVpiuA">打开<a href="http://link.zhihu.com/?target=https%3A//unity3d.com/get-unity/download/archive" class=" wrap external" target="_blank" rel="nofollow noreferrer">Unity官网</a>下载对应版本的Editor安装包(不要下载Unity Hub,也不要下载安装器,必须下载完整安装包!)</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-691059daf690c9ad0f3868f75e8f3d65_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="428" data-rawheight="545" class="origin_image zh-lightbox-thumb" width="428" data-original="https://pic1.zhimg.com/v2-691059daf690c9ad0f3868f75e8f3d65_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='428'%20height='545'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="428" data-rawheight="545" class="origin_image zh-lightbox-thumb lazy" width="428" data-original="https://pic1.zhimg.com/v2-691059daf690c9ad0f3868f75e8f3d65_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-691059daf690c9ad0f3868f75e8f3d65_720w.jpg?source=3af55fa1"></figure><p data-pid="zo9II13a">下载完成不要安装,直接右键用7z打开,依次进入下面这个目录:Editor\Data\PlaybackEngines\windowsstandalonesupport\Variations\win64_nondevelopment_mono\</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-4af11bd8b82dea7def751873161ba3bc_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1565" data-rawheight="950" class="origin_image zh-lightbox-thumb" width="1565" data-original="https://pica.zhimg.com/v2-4af11bd8b82dea7def751873161ba3bc_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1565'%20height='950'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1565" data-rawheight="950" class="origin_image zh-lightbox-thumb lazy" width="1565" data-original="https://pica.zhimg.com/v2-4af11bd8b82dea7def751873161ba3bc_r.jpg?source=3af55fa1" data-actualsrc="https://pic4.zhimg.com/v2-4af11bd8b82dea7def751873161ba3bc_720w.jpg?source=3af55fa1"></figure><p data-pid="cxC6rMNb">把player_win.exe拖到游戏目录,原exe改后缀备份或删除,把player_win.exe改为原exe名称</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-27156c6ca976b853e2870b8c7b23cfe3_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1070" data-rawheight="178" class="origin_image zh-lightbox-thumb" width="1070" data-original="https://pic2.zhimg.com/v2-27156c6ca976b853e2870b8c7b23cfe3_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1070'%20height='178'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1070" data-rawheight="178" class="origin_image zh-lightbox-thumb lazy" width="1070" data-original="https://pic2.zhimg.com/v2-27156c6ca976b853e2870b8c7b23cfe3_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-27156c6ca976b853e2870b8c7b23cfe3_720w.jpg?source=3af55fa1"></figure><p data-pid="EYYOCyb7">此时启动游戏,必然报错如下,除非游戏用了il2cpp(il2cpp后端暂时无解)</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-9504d76922794c5085eca589cb60e77e_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="582" data-rawheight="327" class="origin_image zh-lightbox-thumb" width="582" data-original="https://pic2.zhimg.com/v2-9504d76922794c5085eca589cb60e77e_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='582'%20height='327'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="582" data-rawheight="327" class="origin_image zh-lightbox-thumb lazy" width="582" data-original="https://pic2.zhimg.com/v2-9504d76922794c5085eca589cb60e77e_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-9504d76922794c5085eca589cb60e77e_720w.jpg?source=3af55fa1"></figure><p data-pid="krOAnZUv">点开Data目录,删除或备份里面的Mono目录,把刚刚7z里面的Data目录里的Mono目录替换过来</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-023bd9f9c450b60d3484eb211d8702d5_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1242" data-rawheight="524" class="origin_image zh-lightbox-thumb" width="1242" data-original="https://pic1.zhimg.com/v2-023bd9f9c450b60d3484eb211d8702d5_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1242'%20height='524'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1242" data-rawheight="524" class="origin_image zh-lightbox-thumb lazy" width="1242" data-original="https://pic1.zhimg.com/v2-023bd9f9c450b60d3484eb211d8702d5_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-023bd9f9c450b60d3484eb211d8702d5_720w.jpg?source=3af55fa1"></figure><p data-pid="x1md9E2b">现在启动游戏,游戏应该能正常运行,任务管理器会显示这已经不是一个32位程序了</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-783855e29f23e4863f3e9efbe1073c66_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1688" data-rawheight="1117" class="origin_image zh-lightbox-thumb" width="1688" data-original="https://pica.zhimg.com/v2-783855e29f23e4863f3e9efbe1073c66_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1688'%20height='1117'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1688" data-rawheight="1117" class="origin_image zh-lightbox-thumb lazy" width="1688" data-original="https://pica.zhimg.com/v2-783855e29f23e4863f3e9efbe1073c66_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-783855e29f23e4863f3e9efbe1073c66_720w.jpg?source=3af55fa1"></figure><p data-pid="TIxAvOTW">但是如果不出意外,游戏使用Steam API的话,会报Steam错误,这是因为我们还没替换Steam API的DLL,64位进程不能加载32位DLL</p><p data-pid="Aab-rW7r">我们可以去Steam开发者网站<a href="http://link.zhihu.com/?target=https%3A//partner.steamgames.com/home" class=" wrap external" target="_blank" rel="nofollow noreferrer">Steamworks</a>下载最新的Steam SDK</p><p data-pid="qeBFi50k">把steam_api64.dll解压出来</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-f3e35badc4118e589bc34d2c299a43ad_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1565" data-rawheight="950" class="origin_image zh-lightbox-thumb" width="1565" data-original="https://pic1.zhimg.com/v2-f3e35badc4118e589bc34d2c299a43ad_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1565'%20height='950'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1565" data-rawheight="950" class="origin_image zh-lightbox-thumb lazy" width="1565" data-original="https://pic1.zhimg.com/v2-f3e35badc4118e589bc34d2c299a43ad_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-f3e35badc4118e589bc34d2c299a43ad_720w.jpg?source=3af55fa1"></figure><p data-pid="KRtmV59x">替换原来的steam_api.dll</p><figure data-size="normal"><noscript><img src="https://pica.zhimg.com/v2-215ed718b8b3b27463a73d94d0dfa211_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="1203" data-rawheight="190" class="origin_image zh-lightbox-thumb" width="1203" data-original="https://pic2.zhimg.com/v2-215ed718b8b3b27463a73d94d0dfa211_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1203'%20height='190'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="1203" data-rawheight="190" class="origin_image zh-lightbox-thumb lazy" width="1203" data-original="https://pic2.zhimg.com/v2-215ed718b8b3b27463a73d94d0dfa211_r.jpg?source=3af55fa1" data-actualsrc="https://pica.zhimg.com/v2-215ed718b8b3b27463a73d94d0dfa211_720w.jpg?source=3af55fa1"></figure><p data-pid="mRrWjra5">现在游戏就可以正常运行,且不影响所有Steam功能了</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-551c231b97c56b381722348689e1e126_720w.jpg?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="3840" data-rawheight="2160" class="origin_image zh-lightbox-thumb" width="3840" data-original="https://pic2.zhimg.com/v2-551c231b97c56b381722348689e1e126_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='3840'%20height='2160'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="3840" data-rawheight="2160" class="origin_image zh-lightbox-thumb lazy" width="3840" data-original="https://pic2.zhimg.com/v2-551c231b97c56b381722348689e1e126_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-551c231b97c56b381722348689e1e126_720w.jpg?source=3af55fa1"></figure><p><br></p><p><br></p><p><br></p><p data-pid="KcgN52le">最后,愿天下不再有32位程序</p>