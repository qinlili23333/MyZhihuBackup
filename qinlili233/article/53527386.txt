解决PS touch的二次扭曲闪退问题
<p data-pid="zRlwAEKl">说ps touch是Android端第二给力的图像处理工具恐怕没有敢称第一的，尽管这东西已经三年多没更新了。不过因为长时间没有更新，问题自然是一大堆，比如二次扭曲闪退就是其中之一。</p><p data-pid="qESQDIpj">其实这个问题已经遗留很久了，6.0以上系统都有这个问题，第二次使用扭曲时会转圈很久后闪退。最近作业比较少就研究了一下，算是找到了一个目前来看比较稳定的方法。（目前未见其他功能影响，不过内存占用稍有上升）<br><br></p><hr><p data-pid="oTOE0Img"><br>明人不说暗话，直接上解决方法<br><br>导致崩溃的问题是lz4，lz4是一种压缩算法，因为速度快被广泛使用，但是因为ps touch版本老旧，其lz4算法编译时存在text relocations，导致native层崩溃<br><br>解决崩溃的办法其实很简单，现在的手机内存够大不需要再压缩了，去掉lz4就好了<br><br>找到Lcom/adobe/ttpixel/extension/TTPixelExtensionContextUtils;<br><br>删除下面三行<br></p><div class="highlight"><pre><code class="language-text"><span></span>    const-string v1, "lz4Compress"
    new-instance v2, Lcom/adobe/ttpixel/extension/utils/FnLz4Compress;
    invoke-direct {v2}, Lcom/adobe/ttpixel/extension/utils/FnLz4Compress;-&gt;()V
</code></pre></div><p data-pid="c7aV1BQJ"><br>回编译安装，问题解决！<br></p><br><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-b6818e656997fdbe055e7d2a755c9dfd_720w.gif?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="852" data-rawheight="480" data-thumbnail="https://pic3.zhimg.com/v2-b6818e656997fdbe055e7d2a755c9dfd_720w.jpg?source=3af55fa1" class="origin_image zh-lightbox-thumb" width="852" data-original="https://pic3.zhimg.com/v2-b6818e656997fdbe055e7d2a755c9dfd_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='852'%20height='480'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="852" data-rawheight="480" data-thumbnail="https://pic3.zhimg.com/v2-b6818e656997fdbe055e7d2a755c9dfd_720w.jpg?source=3af55fa1" class="origin_image zh-lightbox-thumb lazy" width="852" data-original="https://pic3.zhimg.com/v2-b6818e656997fdbe055e7d2a755c9dfd_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-b6818e656997fdbe055e7d2a755c9dfd_720w.gif?source=3af55fa1"></figure><br><br><hr><p data-pid="SnmEtRfY"><br><br><br>完全原创解决方法，禁止转载，如果用于制作修改版请注明琴梨梨技术支持</p>