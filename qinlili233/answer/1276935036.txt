既然每个程序占用的内存都是操作系统管理的，为什么内存泄漏还是个问题？
<p data-pid="84178jyl">内存里的数据可以有几种</p><p data-pid="N1bkkG_n">正在使用的，这部分操作系统绝对不会动他，一动程序就crash了</p><p data-pid="gR1XCzGb">待写入的，这部分需要等待存储器io操作完成才能删除，操作系统会调度存储器来尽快写入它们</p><p data-pid="1thIDwgb">缓存的，这部分没有也不影响程序运行，它们的存在是为了加速（内存比硬盘快），操作系统会想办法在内存里缓存更多内容，并在内存不足时释放它们</p><p><br></p><p data-pid="zEOtaP14">正常运行的程序，把用完的内存标记为待写入或缓存，这样操作系统就能去管理它们</p><p data-pid="0PBD_Zs4">而内存泄漏，是明明内存用完了还标记为正在使用</p><p data-pid="q5tCEQmZ">操作系统自然不敢去动那些正在使用的内存</p><p data-pid="xRHrLVuY">于是操作系统就会面临到最后没有内存可释放的困境</p><p data-pid="L_DQJ8IM">哪怕内存里装的都是shit</p><p><br></p><p data-pid="gK-orGwP">我们可以打个比方</p><p data-pid="ABlaES6k">有一家餐厅有若干张桌子（内存）</p><p data-pid="dyFDu2pH">来了几个客人恰饭（使用内存）</p><p data-pid="C2Q7cmD7">客人恰完饭留下了一些需要收拾的残羹剩饭（待写入和缓存）</p><p data-pid="4hadMLOM">如果还有空桌子，餐厅可以先不收拾，但是如果客人太多了，就必须收拾这些用过的桌子</p><p data-pid="UpnALbJv">但是现在客人们都说，这桌子我等会还要用不许给我收了，结果却拍拍屁股走人了</p><p data-pid="SK5f9OLa">很快餐厅就没有空桌子了，这就是内存泄漏</p><p></p>
1591853936