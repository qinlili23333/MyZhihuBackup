如何评价特斯拉回应海南碰撞事故原因为「地面湿滑、制动踏板踩得轻」？
<p data-pid="0j79B6Ai">盲猜一波，又是特斯拉自己代码写脱了</p><p data-pid="brEjQACe">博世ib二代是完全可以被软件接管的</p><p data-pid="ycUII9dv">我们现在假设ib刹车的调用为ib.push(percent)，调用后会打印log：刹车力度为percent%</p><p data-pid="iwUVugl5">假设刹车踏板为pushBtn，踩下时调用onPush(percent)</p><p data-pid="SzYqvxlK">传统车企也有使用ib的，他们没有ap情况下的代码写法显然应该是这样的</p><p data-pid="1Qu5vVBc">pushBtn.onPush = function (p){</p><p data-pid="dXiLVTdc">ib.push(p)</p><p data-pid="dp_CKqIe">}</p><p data-pid="HZ83ee7O">这种写法情况下显然只要踏板没问题，踩下多少就是多少</p><p><br></p><p data-pid="urLJLRr-">但是特斯拉要考虑和ap共存的情况</p><p data-pid="5IlTSzj3">所以特斯拉的代码就得这么写</p><p data-pid="bt0C-qsX">pushBtn.onPush = function (p){</p><p data-pid="BVUkA8Y8">if(Tesla.ap.isworking){</p><p data-pid="QhR8hC5t">ib.push(Tesla.ap.push)</p><p data-pid="McfNIjLY">}else{</p><p data-pid="DJzXz0Bm">ib.push(p)</p><p data-pid="YsMEu8RH">}</p><p data-pid="gNSuqWBY">}</p><blockquote data-pid="mATkJeTk">这个我脑补出来的代码其实还有个隐藏支线，就是如果因为ap程序崩溃等原因，Tesla.ap.isworking根本没有被定义，直接抛出not defined错误了，那么刹车就会彻底不工作，并且根本没有回传数据</blockquote><p data-pid="35VFel7q">通过加了一个判断，在ap介入时由ap接管刹车</p><p><br></p><p data-pid="aWCtWZk0">现在假设ap出了一个bug，ap.push这个应该返回刹车力度的值返回的全都是0</p><p data-pid="6KCMrMDK">结果就会是：不管怎么用力踩踏板，刹车都不工作，且后台数据显示根本没有刹车的</p><p><br></p><p data-pid="zsMJRMh9">这也是我一直觉得特斯拉所谓的后台数据并不靠谱的原因</p><p data-pid="h0QU-Xpb">很多时候，因为回传逻辑的问题，后台数据本身就tm是错的</p><p data-pid="3ZqWpqjl">拿错的数据去分析当然分析出来的结果也是错的</p><p data-pid="awjmov7T">因为回传逻辑也是我们写出来的代码，回传逻辑一样可能有bug</p><p data-pid="BgP2DVh2">往极端里说，if(true){console.log("没毛病")}，这样的回传逻辑下后台数据永远没问</p><p><br></p><p data-pid="nlQPkIUJ">咱们写代码的都会经常遇到一种情况</p><p data-pid="Xad29bX5">那就是log上来看一切正常，但程序就是工作的很奇怪</p><p data-pid="WlDfCbx2">这种情况就必须依靠外部监视来分析，因为程序内部的监控显然已经失效了</p><p data-pid="KJwNi9lv">当然有人可能会问，那我想办法监视一下这个内部监控不就行了嘛，那么监视内部监控的逻辑出bug了呢？这么搞下去就无限套娃了</p><p data-pid="6pzjTbNH">为了避免无限套娃的内部监控，还得靠外部监控</p><p data-pid="IP1jgHkc">再举个真实存在的例子，某程序嵌入了完善的崩溃检测sdk，可以回传运行时发生的各种错误，但该程序开发者始终没意识到很多用户运行时直接闪退了。因为刚运行就闪退，sdk都没初始化，这时候根本没有日志回传，开发者当然意识不到有人闪退了</p><p data-pid="n2Aa6XYp">内部监控固然重要，但也不能完全依赖</p><h2>特斯拉这种只靠内部监控查错的逻辑，不靠谱</h2><p><br></p><p data-pid="4A2nFHg9">当然我也承认特斯拉硬件确实牛批，12核三丛集的A72，这个soc，强的一批</p><p data-pid="_PKoX1NX">但再强的硬件，都无法阻止bug发生</p><p><br></p><p data-pid="U6F6Pxru">最后，还是那句老话</p><p data-pid="-fTTAlfL">后台回传有错误多半有bug（但也可能是用户设备问题），后台回传没毛病也不见得没有bug（bug可能根本没回传）</p><hr><p data-pid="eXXci_s8">写代码是个很严肃的事情，要让代码正常的跑起来，一个错都不能有，但哪怕某一行出了一个小错误，都可能牵一发动全身</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-c9974cdca113b5095e9c297742e6ee87_720w.jpg?source=3af55fa1" data-rawwidth="921" data-rawheight="1346" data-size="normal" data-default-watermark-src="https://pic1.zhimg.com/v2-d5b4cd0a78693800d2dfc6e4b2b2e690_720w.jpg?source=3af55fa1" class="origin_image zh-lightbox-thumb" width="921" data-original="https://pic1.zhimg.com/v2-c9974cdca113b5095e9c297742e6ee87_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='921'%20height='1346'&gt;&lt;/svg&gt;" data-rawwidth="921" data-rawheight="1346" data-size="normal" data-default-watermark-src="https://pic1.zhimg.com/v2-d5b4cd0a78693800d2dfc6e4b2b2e690_720w.jpg?source=3af55fa1" class="origin_image zh-lightbox-thumb lazy" width="921" data-original="https://pic1.zhimg.com/v2-c9974cdca113b5095e9c297742e6ee87_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-c9974cdca113b5095e9c297742e6ee87_720w.jpg?source=3af55fa1"></figure><p data-pid="NAz3naCw">举一个我自己的例子，一个引号引发的血案</p><p data-pid="uH1Z0r-4">一行给按钮添加水波纹的语句，缺少一个引号报错，整段js都没有正常执行，下面给按钮添加onclick事件的代码也没执行，所有按钮全部失效</p><hr><p data-pid="Qoq34XdI">ps：飞机黑匣子也有失效的时候，瑞航坠机前几分钟黑匣子一点记录都没有，因为大火已经烧断了黑匣子的供电</p><p></p>
1616023908