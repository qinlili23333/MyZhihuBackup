在 2018 年 3 月的时间点看，短视频（抖音、快手、火山等）和微信小程序谁才是流量黑洞？
<p data-pid="5hfDufxS">泻药</p><p data-pid="W__QAp6v">利益相关：一只喜欢修改微信的美化咸鱼</p><p data-pid="GiTFiIYW">我认为微信仍然是流量黑洞，因为微信的网络优化十分出色，虽然微信本地流畅度并不让我满意，但是确实微信在处理网络通信上有独到之处</p><p data-pid="7K2nwZ9V">简而言之：微信在同等服务器性能情况下能同时并发更多数据，而快手和抖音做不到</p><p data-pid="9c1wEnF3">微信拥有自己的一套DNS本地解析组件，根据我对文件内容分析和对微信dex的反编译，可以确定，微信会把host直接缓存到本地，同时还会分多个ip（对应多个节点），这样可以保证最快的解析速度（本地秒解析），同时这也可以避免DNS污染（在中国DNS污染很普遍，但是并不是每个用户都会主动去投诉，有些怂x就不去投诉继续忍受）</p><figure><noscript><img src="https://pic3.zhimg.com/v2-15c2f73ae561167129f81bf60958013b_720w.png?source=3af55fa1" data-rawwidth="1080" data-rawheight="1920" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic1.zhimg.com/v2-15c2f73ae561167129f81bf60958013b_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1080'%20height='1920'&gt;&lt;/svg&gt;" data-rawwidth="1080" data-rawheight="1920" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic1.zhimg.com/v2-15c2f73ae561167129f81bf60958013b_r.jpg?source=3af55fa1" data-actualsrc="https://pic3.zhimg.com/v2-15c2f73ae561167129f81bf60958013b_720w.png?source=3af55fa1"></figure><p data-pid="WPSoC-Ix">同时你连接到一个WiFi后微信会自动对多个节点测速，然后记录最快节点作为主节点优先连接，尽可能降低延迟</p><figure><noscript><img src="https://pica.zhimg.com/v2-f86614ad0f9b8599b5eb0d750b0c3fcc_720w.png?source=3af55fa1" data-rawwidth="1080" data-rawheight="1920" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pica.zhimg.com/v2-f86614ad0f9b8599b5eb0d750b0c3fcc_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1080'%20height='1920'&gt;&lt;/svg&gt;" data-rawwidth="1080" data-rawheight="1920" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pica.zhimg.com/v2-f86614ad0f9b8599b5eb0d750b0c3fcc_r.jpg?source=3af55fa1" data-actualsrc="https://pica.zhimg.com/v2-f86614ad0f9b8599b5eb0d750b0c3fcc_720w.png?source=3af55fa1"></figure><p data-pid="7z-QLwda">微信这套方案只是记录用户wifi名称和ip的，而不包括路由器的mac地址，所以对隐私的保护也比较好，这点我是持认可态度的（QQ会记录路由器mac地址，泄露隐私）</p><figure><noscript><img src="https://pic1.zhimg.com/v2-e2efac6ca837225709f97d9665db6ca1_720w.png?source=3af55fa1" data-rawwidth="1080" data-rawheight="1920" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pica.zhimg.com/v2-e2efac6ca837225709f97d9665db6ca1_r.jpg?source=3af55fa1"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1080'%20height='1920'&gt;&lt;/svg&gt;" data-rawwidth="1080" data-rawheight="1920" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pica.zhimg.com/v2-e2efac6ca837225709f97d9665db6ca1_r.jpg?source=3af55fa1" data-actualsrc="https://pic1.zhimg.com/v2-e2efac6ca837225709f97d9665db6ca1_720w.png?source=3af55fa1"></figure><br><p data-pid="ALoV9YyI">总结：微信打开同样的连接会得益于本地DNS解析，速度比抖音和快手略快一些，尤其是数据量较大且数据来源较分散情况下，同时还可以有效抗污染，而节点分流可以平衡各个节点负载同时保证用户延迟最低，通过这样的网络优化，微信能保证承受住巨大的访问压力，而不至于直接单个节点宕机</p>
1522146236